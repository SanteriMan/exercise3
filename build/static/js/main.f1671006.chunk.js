(this["webpackJsonpexercise2.4-2.10"]=this["webpackJsonpexercise2.4-2.10"]||[]).push([[0],{18:function(e,n,t){e.exports=t(40)},40:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),u=t(12),o=t.n(u),c=t(13),s=t(14),i=t(16),l=t(15),m=t(17),h=function(e){var n=e.persons,t=e.onclick;return r.a.createElement("div",null,r.a.createElement("h2",null,"Numerot"),r.a.createElement("ul",null,n.map((function(e){return r.a.createElement("p",{key:e.name},e.name," ",e.number,r.a.createElement("button",{id:e.id,name:e.name,onClick:t},"poista"))}))))},p=function(e){var n=e.addperson,t=e.newname,a=e.newnumber,u=e.changename,o=e.changenumber;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:n},r.a.createElement("div",null,"nimi: ",r.a.createElement("input",{value:t,onChange:u})),r.a.createElement("div",null,"numero: ",r.a.createElement("input",{value:a,onChange:o})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"lis\xe4\xe4"))))},d=t(2),f=t.n(d),b="https://obscure-peak-28531.herokuapp.com/api/persons",v=function(){return f.a.get(b).then((function(e){return e.data}))},w=function(e){return f.a.post(b,e).then((function(e){return e.data}))},g=function(e){return f.a.delete("".concat(b,"/").concat(e)).then((function(e){return e.data}))},E=function(e){function n(e){var t;return Object(c.a)(this,n),(t=Object(i.a)(this,Object(l.a)(n).call(this,e))).addPerson=function(e){if(e.preventDefault(),t.state.persons.some((function(e){return e.name===t.state.newName})))alert("Nimi jo luettelossa");else{var n={name:t.state.newName,number:t.state.newNumber};w(n).then((function(e){t.setState({persons:t.state.persons.concat(e),newName:"",newNumber:""})}))}},t.removePerson=function(e){e.preventDefault();var n=e.target.getAttribute("id"),a=e.target.getAttribute("name");window.confirm("Poistetaanko "+a+"?")&&g(n).then((function(e){t.setState({persons:t.state.persons.filter((function(e){return e.id.toString()!==n}))})})).catch((function(e){console.log("couldn't remove"),v().then((function(e){return t.setState({persons:e,newName:"",newNumber:""})}))}))},t.handleNameChange=function(e){t.setState({newName:e.target.value})},t.handleNumChange=function(e){t.setState({newNumber:e.target.value})},t.state={persons:[],newName:"",newNumber:""},t}return Object(m.a)(n,e),Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this;v().then((function(n){e.setState({persons:n})}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"Puhelinluettelo"),r.a.createElement(p,{addperson:this.addPerson,newname:this.state.newName,newnumber:this.state.newNumber,changename:this.handleNameChange,changenumber:this.handleNumChange}),r.a.createElement(h,{persons:this.state.persons,onclick:this.removePerson}))}}]),n}(r.a.Component);o.a.render(r.a.createElement(E,null),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.f1671006.chunk.js.map